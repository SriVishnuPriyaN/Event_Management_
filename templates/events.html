{% extends "base.html" %} {% block content %}
<h1 class="mb-4">Events</h1>

<a href="{{ url_for('add_event') }}" class="btn btn-primary mb-3">
  Add New Event
</a>

<ul class="list-group">
  {% for event in events %}
  <li class="list-group-item d-flex justify-content-between align-items-start">
    <!-- Event Details -->
    <div>
      <h5 class="mb-1">{{ event.title }}</h5>

      <p class="mb-1">
        <strong>Starts:</strong>
        {{ event.start_time.strftime('%Y-%m-%d %H:%M') }}
      </p>

      <p class="mb-1">
        <strong>Ends:</strong>
        {{ event.end_time.strftime('%Y-%m-%d %H:%M') }}
      </p>

      {% if event.description %}
      <p class="mb-2">{{ event.description }}</p>
      {% endif %}
    </div>

    <!-- Action Buttons -->
    <div class="ms-3 text-nowrap">
      <!-- Edit Button -->
      <a
        href="{{ url_for('edit_event', event_id=event.event_id) }}"
        class="btn btn-secondary btn-sm me-1"
        title="Edit Event"
      >
        Edit
      </a>

      <!-- Delete Button (Icon + Purple) -->
      <form
        action="{{ url_for('delete_event', event_id=event.event_id) }}"
        method="POST"
        class="d-inline"
      >
        <button
          type="submit"
          class="btn btn-purple-delete btn-sm"
          title="Delete Event"
          onclick="return confirm('Are you sure you want to delete this event?');"
        >
          <i class="fas fa-trash"></i>
        </button>
      </form>
    </div>
  </li>
  {% else %}
  <li class="list-group-item text-muted">No events found.</li>
  {% endfor %}
</ul>
{% endblock %}
